<html>
  <head>
      <title>Schedule</title>
  </head>
  <body>
    <div id="dialog" title="Enter Event Details">
      <%= form_for(@schedule, :remote => true, :format => :json) do |schedule| %>
        <p>
          Start Time : <span id="startTime"></span>
        </p>
        <p>
          End Time : <span id="endTime"></span>
        </p>
        <table width="70%">
          <tr>
            <td>
              <p>Professor : </p>
              <% professor_array = @professor.map { |b| [b.name, b.id] } %>
            </td>
            <td width="60%">
              <%= schedule.select(:user_id , options_for_select(professor_array),{include_blank: true})%>
            </td>
          </tr>
             
          <tr>
            <td>
              <p>Subject : </p>
              <% subject_array = @subjects.map{ |b| [b.name.to_s, b.id.to_i] } %>
            </td>
            <td width="60%">
              <%= schedule.select(:subject_id, options_for_select(subject_array),{ include_blank: true}) %>
            </td>
          </tr>

          <tr>
            <td>
              <p>Room No. : </p>
              <% room_array = @room.map { |b| [b.name, b.id] } %>
            </td>
            <td width="60%">
              <%= schedule.select(:room_id , options_for_select(room_array), { include_blank: true }) %>
            </td>
          </tr>
        </table>

        <table>
          <tr>
            <td width="40%"><p>For Batches: </p></td>
            <% @batch.each do |batch| %>
              <td><%= check_box_tag 'batch_ids[]', batch.id, :id => "batch_checkbox" %></td>
              <td><%= batch.name %></td>
              <td width="5%"></td>
            <% end %>   
          </tr>
        </table>

        <table>
          <tr>
            <td width="40%"><p>Repeat : </p></td>
            <td><%= check_box_tag 'period', 1 %></td><td>Daily</td><td width="5%"></td>
            <td><%= check_box_tag 'period', 2 %></td><td>Weekly</td><td width="5%"></td>
            <td><%= check_box_tag 'period', 3 %></td><td>Monthly</td><td width="5%"></td>
          </tr>
        </table>

        <div class="row">
            <div class="col-md-4">
              <p>Start Date : </p><%= schedule.date_select(:start_date) %>
            </div>
            <div class="col-md-4">
              <p>End Date : </p><%= schedule.date_select(:end_date) %>
            </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            <div class="col-md-4">
              <input type="button" id="schedule_create" value="Create"> 
              <input type="button" id="schedule_update" value="Update"> 
            </div>
          </div>
        </div>
      <% end %>
    </div>
    <div align="right">
      <%= button_to 'Notify Users', update_schedule_schedule_path(1), method: :get , :id => 'schedule_change' %>
    </div>
  </body>
</html>