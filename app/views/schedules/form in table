
<div id="dialog" title="Enter Details">
<%= form_for @schedule do |schedule| %>
<table>
<tr>
<td>Branch :</td>
<td><% branch_array = Branch.all.map { |b| [b.name, b.id] } %>
<%= schedule.select(:branch_id , options_for_select(branch_array), { include_blank: true }) %>
</td>
<td><span style="color:red">
  <% if @schedule.errors[:branch_id] %>
    <% a = @schedule.errors.full_messages_for(:branch_id) %>
    <%= a.join(", ") %>
  <% end %>
</span></td>
</tr>

<tr>
<td>Semester : 
</td><td><% semester_array = Semester.all.map { |b| [b.name, b.id] } %>
<%= schedule.select(:semester_id , options_for_select(semester_array), { include_blank: true}) %>
</td><td><span style="color:red">
  <% if @schedule.errors[:semester_id] %>
    <% a = @schedule.errors.full_messages_for(:semester_id) %>
    <%= a.join(", ") %>
  <% end %>
</span></td>
</tr>

<tr><td>
Professor : 
</td><td><% professor_array = User.find_all_by_role_id(2).map { |b| [b.name, b.id] } %>
<%= schedule.select(:user_id , options_for_select(professor_array), { include_blank: true})%></td><td>
<span style="color:red">
  <% if @schedule.errors[:user_id] %>
    <% a = @schedule.errors.full_messages_for(:user_id) %>
    <%= a.join(", ") %>
  <% end %>
</span></td></tr>

<tr><td>
Subject :</td><td>
<% subject_array = Subject.all.map { |b| [b.name, b.id] } %>
<%= schedule.select(:subject_id , options_for_select(subject_array), { include_blank: true}) %>
</td><td><span style="color:red">
  <% if @schedule.errors[:subject_id] %>
    <% a = @schedule.errors.full_messages_for(:subject_id) %>
    <%= a.join(", ") %>
  <% end %>
</span></td></tr>

<tr><td>
Batch : </td><td>
<% batch_array = Batch.all.map { |b| [b.name, b.id] } %>
<%= schedule.select(:batch_id , options_for_select(batch_array), { include_blank: true}) %>
</td><td><span style="color:red">
  <% if @schedule.errors[:batch_id] %>
    <% a = @schedule.errors.full_messages_for(:batch_id) %>
    <%= a.join(", ") %>
  <% end %>
</span></td></tr>

<tr><td>
Room No. :</td><td> 
<% room_array = Room.all.map { |b| [b.name, b.id] } %>
<%= schedule.select(:room_id , options_for_select(room_array), { include_blank: true }) %>
</td><td><span style="color:red">
  <% if @schedule.errors[:room_id] %>
    <% a = @schedule.errors.full_messages_for(:room_id) %>
    <%= a.join(", ") %>
  <% end %>
 </span></td></tr>
<tr>
<td>
Start Time:
</td><td><%= schedule.time_select(:starttime, {minute_step: 5 , :ampm => true }) %>
</td>
</tr>
<tr>
<td>
End Time:
</td><td><%= schedule.time_select(:endtime, {minute_step: 5 ,:ampm => true }) %>
</td>
</tr>
</table>
<%= schedule.submit %>
<% end %>
</div>